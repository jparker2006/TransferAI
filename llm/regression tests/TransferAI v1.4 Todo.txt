🔧 TransferAI v1.4 Roadmap
🎯 Goal: Achieve full logical coverage, validation robustness, and prompt clarity across all articulation types before scaling.

✅ Final Bug Fixes (Logic, Coverage, and Interpretation)

Test	Issue	Fix Strategy
Test 32	❌ Fails to say whether honors are required	✅ Add honors_required() check — iterate logic_blocks, return True only if all options contain only honors courses ✅ Completed
—	Redundant courses not flagged (e.g. both CIS 22A and 36A)	✅ Enhanced detect_redundant_courses() to use regex for any course prefix, support various formats, detect honors pairs, and flag redundant courses even outside the logic block ✅ Completed
—	Honors/non-honors equivalence sometimes confusing	✅ Standardize phrasing: "These are equivalent for UC transfer credit. You may choose either." ✅ Completed
—	UC course articulation counts still unclear in edge cases	✅ Add count_uc_matches() helper — explain if course contributes to >1 articulation or only 1 ✅ Completed
🧠 Prompt & Tone Enhancements

Problem	Fix
✅ Yes/❌ No formatting inconsistent in binary queries	Use render_binary_response() with consistent preamble: ✅ Yes, based on official articulation. / ❌ No, based on verified articulation logic. ✅ Completed
Overwordy UC → CCC course maps	✅ Enhanced render_logic_v2 with hierarchical structure, better course organization, and prominent UC course headers ✅ Completed
Missing distinction between complete and partial options	✅ Added clear labeling with "✅ Complete option" vs "⚠️ Partial match" indicators, progress bars, and boldface for missing courses ✅ Completed
LLM sometimes passive in group-level prompts	✅ Updated render_group_summary with direct instructional headers, action-oriented language, and clearer section organization ✅ Completed
🛠️ Validation & Structure Upgrades

Enhancement	Why It Matters	Status
is_articulation_satisfied() w/ structured output: ✅/❌, missing_courses, satisfied_paths	Required for QA dashboard + user logic validation	✅ Completed
Add render_combo_validation() with table of UC → CCC mapping + ✅/❌ per row	Clarifies grouped multi-course combos (like Group 1 or Group 3)	✅ Completed
summarize_logic_blocks() for flattened metadata summary	Supports feedback, API output, and trust score logic	✅ Completed
Improve "no articulation" cases to list no_articulation: true and reason	Ensures clarity for courses like CSE 15L, CSE 21	✅ Done

Requirement	Status
✅ Every UC course matched with clear CCC logic	✅ Confirmed (v1.3)
✅ Binary yes/no phrasing standardized	✅ Confirmed
✅ Honors clearly marked required vs optional	✅ Completed with Test 32 fix
✅ Group-level "choose-one-section", "all-required", "select-n" logic fully supported	✅ Confirmed
✅ Redundant/mixed CCC courses flagged clearly	✅ Completed
✅ Structured JSON output includes: satisfied, missing, paths, honors_required, no_articulation	✅ Completed
✅ Multi-UC queries yield independent, per-course results	✅ Confirmed
❌ No dropped or speculative logic	✅ Confirmed
❌ No hallucinated CCC–UC matches	✅ Confirmed