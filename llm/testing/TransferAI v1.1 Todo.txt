✅ TransferAI v1.1 Roadmap (Updated & Modular)
🌀 Phase 1: Prompt & Tone Fixes
📍 Status: ✅ Complete (except 2 deferred)


ID Fix Description Plan Status
R1 “CSE 11 at a UC campus” → “at UCSD” 🔧 Update phrasing in build_course_prompt() and build_group_prompt() ✅ Done
R2 Fix yes/no answers being confusing 🔧 Add include_binary_explanation() helper ⏸ Skipped
R6 Avoid “has articulation” for ❌ logic 🔧 Use: “This course must be completed at UC San Diego.” in render_logic_str() ✅ Done
R9 Honors vs non-honors clarity 🔧 Detect honors: true and inject: “You may choose the honors or non-honors version.” ✅ Done
R12 Show CCC honors examples in policy questions 🔧 Use extract_ccc_courses_from_logic() during future policy/prompt expansion ⏸ Deferred
🔍 Phase 2: Logic Validator Improvements
📍 Status: ✅ Complete (R13 deferred)


ID Fix Description Plan Status
R3 Stop leaking group phrasing into course prompts 🔧 Move group logic explanations to build_group_prompt() only ✅ Done
R5 Show why partial CCC path fails 🔧 In explain_if_satisfied(), return missing course codes clearly ✅ Done
R7 Explain why AND chains fail 🔧 Enhance validator messaging with detailed breakdown of missing courses ✅ Done
R13 Handle combo queries like “CHEM 6A and PHYS 2A” 🔧 Add validate_combo_against_group() for multi-UC input ⏸ Deferred
🔐 Phase 3: Core Routing & Match Fixes
📍 Status: 🔛 Now Starting


ID Fix Description Plan Status
R4 UC course not matched despite valid doc 🔧 Force-match metadata["uc_course"] before fallback vector search 🔜 Next
R8 Block fallback if valid UC match exists 🔧 Add prevent_fallback_if_exact_uc_match_found() logic 🔜 Next
R10 Multi-UC course queries like “MATH 20A and 20B” 🔧 Detect and split multi-UC queries for independent processing ⏸ Deferred
R11 Reverse-match CCC → UC targets 🔧 Implement find_uc_courses_satisfied_by(ccc_course) search logic 🔜 After
🧠 Implementation Strategy
✅ Finish Phase 1: Prompt logic (R1, R6, R9 done; R2, R12 deferred)

✅ Complete Phase 2: Validator logic (R3, R5, R7 done; R13 deferred)

🔐 Now Begin Phase 3: Focus on routing reliability and fallback suppression

⏩ Defer all multi-UC (R10) and combo matching (R13) until Phase 4+

📦 Output Plan
✅ Re-tested 32 articulation cases

✅ Confirmed partial match and AND-chain validator logic

🛠 Begin Phase 3 (R4 + R8)

🏁 Snapshot v1.1 stable after R4/R8/R11 complete

🚀 Begin ingesting new CCC → UC articulation sets